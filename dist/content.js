(()=>{"use strict";function e(e){console.log("Checking videos with keywords:",e);let o=0;document.querySelectorAll("ytd-rich-item-renderer, ytd-compact-video-renderer").forEach((t=>{var n,d,s;const r=t.querySelector("#video-title"),i=t.querySelector("#channel-name, #text.ytd-channel-name"),l=t.querySelector("#description-text");if(r instanceof HTMLElement&&i instanceof HTMLElement){const c=(null===(n=r.textContent)||void 0===n?void 0:n.toLowerCase())||"",a=(null===(d=i.textContent)||void 0===d?void 0:d.toLowerCase())||"",y=l instanceof HTMLElement&&(null===(s=l.textContent)||void 0===s?void 0:s.toLowerCase())||"";e.some((e=>c.includes(e.toLowerCase())||a.includes(e.toLowerCase())||y.includes(e.toLowerCase())))&&(t.style.display="none",o++,console.log("Hidden video:",c))}})),console.log(`Total videos hidden: ${o}`),function(e){let o=document.getElementById("yt-blocker-counter");o||(o=document.createElement("div"),o.id="yt-blocker-counter",o.style.position="fixed",o.style.top="10px",o.style.right="10px",o.style.background="red",o.style.color="white",o.style.padding="5px",o.style.zIndex="9999",document.body.appendChild(o)),o.textContent=`Videos hidden: ${e}`}(o)}function o(o){new MutationObserver((()=>{e(o)})).observe(document.body,{childList:!0,subtree:!0})}chrome.storage.sync.get(["keywords","isEnabled"],(t=>{t.keywords&&t.isEnabled&&(e(t.keywords),o(t.keywords))})),chrome.runtime.onMessage.addListener(((t,n,d)=>{"updateKeywords"===t.action&&t.keywords&&t.isEnabled?(e(t.keywords),o(t.keywords)):"toggleExtension"===t.action&&(t.isEnabled?chrome.storage.sync.get(["keywords"],(t=>{t.keywords&&(e(t.keywords),o(t.keywords))})):location.reload())}))})();