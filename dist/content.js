(()=>{"use strict";let e=null;function t(e){console.log("Checking videos with keywords:",e);let t=0;document.querySelectorAll("ytd-rich-item-renderer, ytd-compact-video-renderer").forEach((o=>{var n,d,r;const s=o.querySelector("#video-title"),l=o.querySelector("#channel-name, #text.ytd-channel-name"),i=o.querySelector("#description-text");if(s instanceof HTMLElement&&l instanceof HTMLElement){const c=(null===(n=s.textContent)||void 0===n?void 0:n.toLowerCase())||"",y=(null===(d=l.textContent)||void 0===d?void 0:d.toLowerCase())||"",a=i instanceof HTMLElement&&(null===(r=i.textContent)||void 0===r?void 0:r.toLowerCase())||"";e.some((e=>c.includes(e.toLowerCase())||y.includes(e.toLowerCase())||a.includes(e.toLowerCase())))&&(o.style.display="none",t++,console.log("Hidden video:",c))}})),console.log(`Total videos hidden: ${t}`),function(e){let t=document.getElementById("yt-blocker-counter");t||(t=document.createElement("div"),t.id="yt-blocker-counter",t.style.position="fixed",t.style.top="10px",t.style.right="10px",t.style.background="red",t.style.color="white",t.style.padding="5px",t.style.zIndex="9999",document.body.appendChild(t)),t.textContent=`Videos hidden: ${e}`}(t)}function o(o){e=new MutationObserver((()=>{t(o)})),e.observe(document.body,{childList:!0,subtree:!0})}chrome.storage.sync.get(["keywords","isEnabled"],(e=>{e.keywords&&e.isEnabled&&(t(e.keywords),o(e.keywords))})),chrome.runtime.onMessage.addListener(((n,d,r)=>("updateKeywords"===n.action?chrome.storage.sync.get(["isEnabled"],(e=>{e.isEnabled&&n.keywords&&(t(n.keywords),o(n.keywords))})):"toggleExtension"===n.action&&(n.isEnabled?chrome.storage.sync.get(["keywords"],(e=>{e.keywords&&(t(e.keywords),o(e.keywords))})):(document.querySelectorAll("ytd-rich-item-renderer, ytd-compact-video-renderer").forEach((e=>{e.style.display=""})),e&&(e.disconnect(),e=null))),!0)))})();